<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <title>AXIS - Plataforma Espacial del Futuro</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600;800&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary-blue: #0066ff;
            --secondary-cyan: #00ffff;
            --accent-purple: #8000ff;
            --dark-bg: #0a0a1a;
            --space-blue: #1a1a3a;
        }

        body {
            font-family: 'Exo 2', sans-serif;
            background: linear-gradient(135deg, var(--dark-bg), var(--space-blue), #2d1b69);
            color: white;
            overflow-x: hidden;
            line-height: 1.6;
            touch-action: pan-y;
        }

        .space-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        header {
            position: relative;
            z-index: 100;
            padding: 30px 15px;
            text-align: center;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(20px);
            border-bottom: 2px solid var(--secondary-cyan);
        }

        .logo {
            width: 120px;
            height: 120px;
            margin: 0 auto 20px;
            position: relative;
            animation: float 4s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        .rocket {
            width: 50px;
            height: 100px;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }

        .rocket-body {
            width: 35px;
            height: 70px;
            background: linear-gradient(45deg, #ffffff, #e0e0e0);
            border-radius: 18px 18px 7px 7px;
            position: absolute;
            left: 50%;
            top: 15px;
            transform: translateX(-50%);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
        }

        .rocket-tip {
            width: 0;
            height: 0;
            border-left: 17px solid transparent;
            border-right: 17px solid transparent;
            border-bottom: 25px solid var(--secondary-cyan);
            position: absolute;
            left: 50%;
            top: 0;
            transform: translateX(-50%);
        }

        .rocket-window {
            width: 15px;
            height: 15px;
            background: radial-gradient(circle, #87CEEB, #4169E1);
            border-radius: 50%;
            position: absolute;
            left: 50%;
            top: 30px;
            transform: translateX(-50%);
            border: 2px solid #0066ff;
        }

        .rocket-flame {
            width: 18px;
            height: 22px;
            background: linear-gradient(to bottom, #ff4500, #ffa500, #ffff00);
            clip-path: polygon(20% 0%, 80% 0%, 100% 70%, 50% 100%, 0% 70%);
            position: absolute;
            left: 50%;
            bottom: -22px;
            transform: translateX(-50%);
            animation: flicker 0.2s ease-in-out infinite alternate;
        }

        @keyframes flicker {
            0% { transform: translateX(-50%) scaleY(1); }
            100% { transform: translateX(-50%) scaleY(0.8); }
        }

        .title {
            font-family: 'Orbitron', monospace;
            font-size: 2.5em;
            font-weight: 900;
            background: linear-gradient(45deg, var(--secondary-cyan), var(--primary-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.1em;
            margin-bottom: 8px;
        }

        .tagline {
            font-size: 0.9em;
            color: var(--secondary-cyan);
            text-transform: uppercase;
            letter-spacing: 0.15em;
        }

        nav {
            position: relative;
            z-index: 100;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(25px);
            padding: 15px 0;
            border-bottom: 1px solid var(--secondary-cyan);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 12px;
            padding: 0 15px;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: white;
            padding: 12px 15px;
            border-radius: 12px;
            background: rgba(0, 102, 255, 0.2);
            border: 2px solid transparent;
            transition: all 0.3s ease;
            min-width: 70px;
        }

        .nav-item:active {
            transform: scale(0.95);
            border-color: var(--secondary-cyan);
        }

        .nav-icon {
            font-size: 1.5em;
            margin-bottom: 5px;
        }

        .nav-text {
            font-size: 0.75em;
            font-weight: 600;
            text-transform: uppercase;
        }

        main {
            position: relative;
            z-index: 10;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px 15px;
        }

        .section {
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 1px solid rgba(0, 255, 255, 0.2);
        }

        .section-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.8em;
            text-align: center;
            margin-bottom: 20px;
            background: linear-gradient(45deg, var(--secondary-cyan), var(--primary-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .card {
            background: linear-gradient(135deg, rgba(0, 102, 255, 0.15), rgba(0, 255, 255, 0.1));
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(0, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .card:active {
            transform: scale(0.98);
            box-shadow: 0 10px 25px rgba(0, 255, 255, 0.2);
        }

        .card-icon {
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 12px;
        }

        .card-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.2em;
            margin-bottom: 8px;
            color: var(--secondary-cyan);
            text-align: center;
        }

        .card-description {
            font-size: 0.9em;
            opacity: 0.9;
            line-height: 1.4;
            text-align: center;
            margin-bottom: 12px;
        }

        .card-link {
            display: block;
            background: linear-gradient(45deg, var(--primary-blue), var(--secondary-cyan));
            color: white;
            text-decoration: none;
            padding: 10px 18px;
            border-radius: 18px;
            text-align: center;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .game-section {
            text-align: center;
            margin: 40px 0;
        }

        .game-title {
            font-family: 'Orbitron', monospace;
            font-size: 2em;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: rainbow 3s ease infinite;
        }

        @keyframes rainbow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .game-button {
            display: inline-block;
            padding: 18px 35px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            border: none;
            border-radius: 40px;
            color: white;
            font-family: 'Orbitron', monospace;
            font-size: 1.2em;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .game-button:active {
            transform: scale(0.95);
        }

        .game-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .game-container {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--dark-bg), var(--space-blue));
            position: relative;
            overflow: hidden;
        }

        .game-header {
            background: rgba(0, 255, 255, 0.1);
            padding: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--secondary-cyan);
        }

        .close-btn {
            background: #ff4757;
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
        }

        #gameCanvas {
            width: 100%;
            height: calc(100% - 50px);
            background: linear-gradient(180deg, #000428, #004e92);
            display: block;
            touch-action: none;
        }

        .level-modal {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 85%;
            max-width: 350px;
            background: rgba(0, 0, 0, 0.95);
            border: 2px solid var(--secondary-cyan);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            z-index: 1001;
        }

        .level-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.3em;
            color: var(--secondary-cyan);
            margin-bottom: 12px;
        }

        .level-fact {
            font-size: 0.9em;
            line-height: 1.4;
            margin-bottom: 18px;
        }

        .continue-btn {
            background: linear-gradient(45deg, var(--secondary-cyan), var(--primary-blue));
            color: white;
            border: none;
            padding: 10px 22px;
            border-radius: 18px;
            cursor: pointer;
            font-weight: 600;
        }

        .certificate-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 1002;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
            padding: 20px 10px;
        }

        .certificate-wrapper {
            max-width: 800px;
            width: 100%;
        }

        .certificate {
            width: 100%;
            aspect-ratio: 1.414;
            max-width: 800px;
            background: linear-gradient(135deg, #0a1e4a 0%, #1a3a6e 50%, #0a1e4a 100%);
            border: 6px solid #00bfff;
            border-radius: 15px;
            position: relative;
            box-shadow: 0 0 40px rgba(0, 191, 255, 0.6);
            overflow: hidden;
            margin: 0 auto 20px;
        }

        .certificate::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(2px 2px at 20% 30%, white, transparent),
                radial-gradient(2px 2px at 60% 70%, white, transparent),
                radial-gradient(1px 1px at 50% 50%, white, transparent),
                radial-gradient(1px 1px at 80% 10%, white, transparent),
                radial-gradient(2px 2px at 90% 60%, white, transparent),
                radial-gradient(1px 1px at 33% 85%, white, transparent),
                radial-gradient(2px 2px at 15% 75%, white, transparent),
                radial-gradient(1px 1px at 70% 40%, white, transparent);
            background-size: 200% 200%;
            opacity: 0.8;
        }

        .certificate-content {
            padding: 8%;
            text-align: center;
            color: white;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
            z-index: 1;
        }

        .cert-logo {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .certificate-title {
            font-family: 'Orbitron', monospace;
            font-size: 2em;
            font-weight: 900;
            color: #00bfff;
            margin-bottom: 8px;
            text-shadow: 0 0 15px rgba(0, 191, 255, 0.8);
            letter-spacing: 2px;
        }

        .certificate-subtitle {
            font-size: 1em;
            color: #87ceeb;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 15px;
        }

        .certificate-text {
            font-size: 0.9em;
            line-height: 1.5;
            color: #e0f7ff;
            margin: 10px 0;
        }

        .player-name-container {
            margin: 12px 0;
        }

        .player-name-input {
            font-family: 'Orbitron', monospace;
            font-size: 1.5em;
            font-weight: 800;
            color: #ffffff;
            background: rgba(0, 191, 255, 0.1);
            border: none;
            border-bottom: 2px solid #00bfff;
            text-align: center;
            width: 90%;
            padding: 10px;
            letter-spacing: 1px;
            text-transform: uppercase;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.5);
            border-radius: 5px;
        }

        .player-name-input:focus {
            outline: none;
            background: rgba(0, 191, 255, 0.15);
            box-shadow: 0 0 15px rgba(0, 191, 255, 0.4);
        }

        .player-name {
            font-family: 'Orbitron', monospace;
            font-size: 1.5em;
            font-weight: 800;
            color: #ffffff;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
            margin: 12px 0;
            letter-spacing: 1px;
        }

        .achievement-badge {
            display: inline-block;
            background: linear-gradient(45deg, #00bfff, #1e90ff);
            padding: 8px 20px;
            border-radius: 20px;
            margin: 10px 0;
            font-weight: 700;
            font-size: 0.9em;
            letter-spacing: 1px;
        }

        .certificate-score {
            font-size: 1.1em;
            font-weight: 700;
            color: #ffd700;
            margin: 10px 0;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
        }

        .planets-completed {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin: 10px 0;
            flex-wrap: wrap;
        }

        .planet-icon {
            font-size: 1.2em;
            filter: drop-shadow(0 0 3px rgba(255, 255, 255, 0.8));
        }

        .certificate-footer {
            display: flex;
            justify-content: center;
            align-items: center;
            border-top: 1px solid rgba(0, 191, 255, 0.5);
            padding-top: 12px;
            margin-top: 12px;
            font-size: 0.85em;
        }

        .certificate-date {
            display: none;
        }

        .certificate-signature-name {
            font-family: 'Orbitron', monospace;
            font-weight: 700;
            color: #ffffff;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.6);
        }

        .certificate-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .cert-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-weight: 700;
            cursor: pointer;
            font-family: 'Orbitron', monospace;
            font-size: 0.9em;
        }

        .download-btn {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
        }

        .close-cert-btn {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
        }

        .name-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1003;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .name-input-container {
            background: linear-gradient(135deg, var(--dark-bg), var(--space-blue));
            border: 3px solid var(--secondary-cyan);
            border-radius: 15px;
            padding: 30px 20px;
            text-align: center;
            max-width: 450px;
            width: 100%;
            box-shadow: 0 0 40px var(--secondary-cyan);
        }

        .name-input-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.5em;
            color: var(--secondary-cyan);
            margin-bottom: 15px;
        }

        .name-input-text {
            font-size: 1em;
            margin-bottom: 20px;
            opacity: 0.9;
        }

        .name-input {
            width: 100%;
            padding: 12px 15px;
            font-size: 1.1em;
            border: 2px solid var(--secondary-cyan);
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            text-align: center;
            margin-bottom: 20px;
            font-family: 'Orbitron', monospace;
        }

        .name-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .name-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            font-family: 'Orbitron', monospace;
        }

        .confirm-name-btn {
            background: linear-gradient(45deg, var(--secondary-cyan), var(--primary-blue));
            color: white;
        }

        .skip-name-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        footer {
            position: relative;
            z-index: 100;
            text-align: center;
            padding: 30px 15px;
            background: rgba(0, 0, 0, 0.6);
            border-top: 1px solid var(--secondary-cyan);
            margin-top: 30px;
        }

        .credits {
            font-size: 0.85em;
            line-height: 1.5;
        }

        .credits strong {
            color: var(--secondary-cyan);
        }

        @media (max-width: 768px) {
            .title { font-size: 2em; }
            .section-title { font-size: 1.5em; }
            .certificate-title { font-size: 1.5em; }
            .player-name-input { font-size: 1.2em; }
            .player-name { font-size: 1.2em; }
        }
    </style>
</head>
<body>
    <div class="space-bg" id="spaceBg"></div>

    <header>
        <div class="logo">
            <div class="rocket">
                <div class="rocket-tip"></div>
                <div class="rocket-body"></div>
                <div class="rocket-window"></div>
                <div class="rocket-flame"></div>
            </div>
        </div>
        <h1 class="title">AXIS</h1>
        <p class="subtitle">Plataforma Espacial del Futuro</p>
        <p class="tagline">Explorando los Misterios del Universo</p>
    </header>

    <nav>
        <div class="nav-container">
            <a href="#forums" class="nav-item">
                <div class="nav-icon">üí¨</div>
                <div class="nav-text">Foros</div>
            </a>
            <a href="#scientists" class="nav-item">
                <div class="nav-icon">üë®‚ÄçüöÄ</div>
                <div class="nav-text">Cient√≠ficos</div>
            </a>
            <a href="#locations" class="nav-item">
                <div class="nav-icon">üöÄ</div>
                <div class="nav-text">Lugares</div>
            </a>
            <a href="#companies" class="nav-item">
                <div class="nav-icon">üè¢</div>
                <div class="nav-text">Empresas</div>
            </a>
            <a href="#facts" class="nav-item">
                <div class="nav-icon">üåü</div>
                <div class="nav-text">Datos</div>
            </a>
            <a href="#mysteries" class="nav-item">
                <div class="nav-icon">üï≥Ô∏è</div>
                <div class="nav-text">Misterios</div>
            </a>
            <a href="#bigbang" class="nav-item">
                <div class="nav-icon">üí•</div>
                <div class="nav-text">Big Bang</div>
            </a>
        </div>
    </nav>

    <main>
        <section id="forums" class="section">
            <h2 class="section-title">üåå Foros Espaciales</h2>
            <div class="cards-grid">
                <div class="card">
                    <div class="card-icon">üåå</div>
                    <h3 class="card-title">NASA Forums</h3>
                    <p class="card-description">Comunidad oficial de NASA para entusiastas del espacio y estudiantes.</p>
                    <a href="https://www.nasa.gov/" target="_blank" class="card-link">Explorar ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üöÄ</div>
                    <h3 class="card-title">SpaceX Community</h3>
                    <p class="card-description">Sigue las misiones m√°s emocionantes de SpaceX y Starship.</p>
                    <a href="https://www.spacex.com/" target="_blank" class="card-link">Explorar ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">‚≠ê</div>
                    <h3 class="card-title">Astronomy Forum</h3>
                    <p class="card-description">La mayor comunidad de astronom√≠a amateur del mundo.</p>
                    <a href="https://www.astronomyforum.net/" target="_blank" class="card-link">Explorar ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üî≠</div>
                    <h3 class="card-title">Sky & Telescope</h3>
                    <p class="card-description">Revista l√≠der en astronom√≠a y observaci√≥n del cielo nocturno.</p>
                    <a href="https://skyandtelescope.org/" target="_blank" class="card-link">Explorar ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üåç</div>
                    <h3 class="card-title">ESA Community</h3>
                    <p class="card-description">Agencia Espacial Europea - Misiones cient√≠ficas avanzadas.</p>
                    <a href="https://www.esa.int/" target="_blank" class="card-link">Explorar ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üõ∞Ô∏è</div>
                    <h3 class="card-title">Satellite Tracking</h3>
                    <p class="card-description">Rastrea sat√©lites, ISS y objetos espaciales en tiempo real.</p>
                    <a href="https://www.n2yo.com/" target="_blank" class="card-link">Explorar ‚Üí</a>
                </div>
            </div>
        </section>

        <section id="scientists" class="section">
            <h2 class="section-title">üë®‚ÄçüöÄ Cient√≠ficos Importantes</h2>
            <div class="cards-grid">
                <div class="card">
                    <div class="card-icon">üöÄ</div>
                    <h3 class="card-title">Neil Armstrong</h3>
                    <p class="card-description">Primer ser humano en caminar sobre la Luna el 20 de julio de 1969.</p>
                    <a href="https://www.nasa.gov/people/neil-a-armstrong/" target="_blank" class="card-link">Conocer m√°s ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üåç</div>
                    <h3 class="card-title">Yuri Gagarin</h3>
                    <p class="card-description">Primer humano en viajar al espacio el 12 de abril de 1961.</p>
                    <a href="https://www.space.com/16159-yuri-gagarin.html" target="_blank" class="card-link">Conocer m√°s ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üë©‚ÄçüöÄ</div>
                    <h3 class="card-title">Mae Jemison</h3>
                    <p class="card-description">Primera mujer afroamericana astronauta, doctora e ingeniera.</p>
                    <a href="https://www.nasa.gov/people/mae-c-jemison/" target="_blank" class="card-link">Conocer m√°s ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üíº</div>
                    <h3 class="card-title">Elon Musk</h3>
                    <p class="card-description">CEO de SpaceX, revolucion√≥ los vuelos espaciales comerciales.</p>
                    <a href="https://www.spacex.com/" target="_blank" class="card-link">Conocer m√°s ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üë©‚Äçüî¨</div>
                    <h3 class="card-title">Sally Ride</h3>
                    <p class="card-description">Primera mujer estadounidense en el espacio en 1983.</p>
                    <a href="https://www.nasa.gov/people/sally-k-ride/" target="_blank" class="card-link">Conocer m√°s ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üî≠</div>
                    <h3 class="card-title">Carl Sagan</h3>
                    <p class="card-description">Astr√≥nomo y divulgador cient√≠fico, creador de "Cosmos".</p>
                    <a href="https://www.planetary.org/profiles/carl-sagan" target="_blank" class="card-link">Conocer m√°s ‚Üí</a>
                </div>
            </div>
        </section>

        <section id="locations" class="section">
            <h2 class="section-title">üöÄ Lugares Espaciales</h2>
            <div class="cards-grid">
                <div class="card">
                    <div class="card-icon">üöÄ</div>
                    <h3 class="card-title">Centro Espacial Kennedy</h3>
                    <p class="card-description">Principal centro de lanzamiento de la NASA en Florida.</p>
                    <a href="https://www.kennedyspacecenter.com/" target="_blank" class="card-link">Visitar ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üõ∞Ô∏è</div>
                    <h3 class="card-title">Estaci√≥n Espacial Internacional</h3>
                    <p class="card-description">Laboratorio orbital a 400 km de altura sobre la Tierra.</p>
                    <a href="https://www.nasa.gov/mission_pages/station/main/index.html" target="_blank" class="card-link">Visitar ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üî≠</div>
                    <h3 class="card-title">Observatorio ALMA</h3>
                    <p class="card-description">Mayor proyecto astron√≥mico del mundo en Chile.</p>
                    <a href="https://www.almaobservatory.org/" target="_blank" class="card-link">Visitar ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üåü</div>
                    <h3 class="card-title">Telescopio Hubble</h3>
                    <p class="card-description">El telescopio espacial m√°s famoso de la historia.</p>
                    <a href="https://hubblesite.org/" target="_blank" class="card-link">Visitar ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üá∑üá∫</div>
                    <h3 class="card-title">Cosm√≥dromo Baikonur</h3>
                    <p class="card-description">El puerto espacial m√°s antiguo del mundo.</p>
                    <a href="https://www.roscosmos.ru/" target="_blank" class="card-link">Visitar ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üî¥</div>
                    <h3 class="card-title">SpaceX Starbase</h3>
                    <p class="card-description">Centro futurista donde se construye Starship.</p>
                    <a href="https://www.spacex.com/vehicles/starship/" target="_blank" class="card-link">Visitar ‚Üí</a>
                </div>
            </div>
        </section>

        <section id="companies" class="section">
            <h2 class="section-title">üè¢ Empresas Espaciales</h2>
            <div class="cards-grid">
                <div class="card">
                    <div class="card-icon">üá∫üá∏</div>
                    <h3 class="card-title">NASA</h3>
                    <p class="card-description">Agencia espacial l√≠der mundial en exploraci√≥n espacial.</p>
                    <a href="https://www.nasa.gov/" target="_blank" class="card-link">Visitar ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üöÄ</div>
                    <h3 class="card-title">SpaceX</h3>
                    <p class="card-description">Empresa de Elon Musk que revolucion√≥ los vuelos espaciales.</p>
                    <a href="https://www.spacex.com/" target="_blank" class="card-link">Visitar ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üåç</div>
                    <h3 class="card-title">ESA</h3>
                    <p class="card-description">Agencia Espacial Europea con 22 pa√≠ses miembros.</p>
                    <a href="https://www.esa.int/" target="_blank" class="card-link">Visitar ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üõ∏</div>
                    <h3 class="card-title">Blue Origin</h3>
                    <p class="card-description">Empresa de Jeff Bezos enfocada en turismo espacial.</p>
                    <a href="https://www.blueorigin.com/" target="_blank" class="card-link">Visitar ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üá∑üá∫</div>
                    <h3 class="card-title">Roscosmos</h3>
                    <p class="card-description">Agencia espacial rusa, pionera en vuelos tripulados.</p>
                    <a href="https://www.roscosmos.ru/en/" target="_blank" class="card-link">Visitar ‚Üí</a>
                </div>
                <div class="card">
                    <div class="card-icon">üáÆüá≥</div>
                    <h3 class="card-title">ISRO</h3>
                    <p class="card-description">Agencia espacial india famosa por misiones econ√≥micas.</p>
                    <a href="https://www.isro.gov.in/" target="_blank" class="card-link">Visitar ‚Üí</a>
                </div>
            </div>
        </section>

        <section id="facts" class="section">
            <h2 class="section-title">üåü Datos Fascinantes</h2>
            <div class="cards-grid">
                <div class="card">
                    <div class="card-icon">üåå</div>
                    <h3 class="card-title">La V√≠a L√°ctea</h3>
                    <p class="card-description">Nuestra galaxia contiene m√°s de 100,000 millones de estrellas y viaja a 2.1 millones de km/h.</p>
                </div>
                <div class="card">
                    <div class="card-icon">üï≥Ô∏è</div>
                    <h3 class="card-title">Agujeros Negros</h3>
                    <p class="card-description">Un agujero negro del tama√±o de una pelota de ping pong tendr√≠a la masa de la Tierra.</p>
                </div>
                <div class="card">
                    <div class="card-icon">‚òÄÔ∏è</div>
                    <h3 class="card-title">El Sol</h3>
                    <p class="card-description">El Sol convierte 4 millones de toneladas de materia en energ√≠a cada segundo.</p>
                </div>
                <div class="card">
                    <div class="card-icon">ü™ê</div>
                    <h3 class="card-title">Saturno Flotante</h3>
                    <p class="card-description">Saturno es menos denso que el agua - flotar√≠a en un oc√©ano gigante.</p>
                </div>
                <div class="card">
                    <div class="card-icon">‚ö°</div>
                    <h3 class="card-title">Velocidad ISS</h3>
                    <p class="card-description">Los astronautas viajan a 28,000 km/h, viendo 16 amaneceres por d√≠a.</p>
                </div>
                <div class="card">
                    <div class="card-icon">üåô</div>
                    <h3 class="card-title">Luna Alej√°ndose</h3>
                    <p class="card-description">La Luna se aleja 3.8 cm cada a√±o. Sin ella, los d√≠as durar√≠an 6 horas.</p>
                </div>
            </div>
        </section>

        <section id="mysteries" class="section">
            <h2 class="section-title">üï≥Ô∏è Misterios Oscuros del Espacio</h2>
            <div class="cards-grid">
                <div class="card">
                    <div class="card-icon">üåë</div>
                    <h3 class="card-title">Materia Oscura</h3>
                    <p class="card-description">Constituye el 27% del universo pero nadie sabe qu√© es. No emite luz ni interact√∫a con la materia normal.</p>
                </div>
                <div class="card">
                    <div class="card-icon">üí®</div>
                    <h3 class="card-title">Energ√≠a Oscura</h3>
                    <p class="card-description">El 68% del universo es esta fuerza misteriosa que acelera la expansi√≥n c√≥smica.</p>
                </div>
                <div class="card">
                    <div class="card-icon">üì°</div>
                    <h3 class="card-title">Se√±al WOW!</h3>
                    <p class="card-description">En 1977 se detect√≥ una se√±al de radio de 72 segundos tan potente que parec√≠a artificial.</p>
                </div>
                <div class="card">
                    <div class="card-icon">üåÄ</div>
                    <h3 class="card-title">Gran Atractor</h3>
                    <p class="card-description">Una anomal√≠a gravitacional invisible arrastra nuestra galaxia y miles m√°s hacia ella.</p>
                </div>
                <div class="card">
                    <div class="card-icon">‚ö´</div>
                    <h3 class="card-title">Agujeros Negros Supermasivos</h3>
                    <p class="card-description">En el centro de cada galaxia hay uno con millones de masas solares.</p>
                </div>
                <div class="card">
                    <div class="card-icon">üî¥</div>
                    <h3 class="card-title">Planeta Nueve</h3>
                    <p class="card-description">Evidencia matem√°tica sugiere un planeta masivo oculto en los confines del sistema solar.</p>
                </div>
                <div class="card">
                    <div class="card-icon">‚è∞</div>
                    <h3 class="card-title">Gran Filtro</h3>
                    <p class="card-description">Si hay trillones de planetas, ¬ød√≥nde est√°n todos? Algo elimina civilizaciones.</p>
                </div>
                <div class="card">
                    <div class="card-icon">üíÄ</div>
                    <h3 class="card-title">Muerte T√©rmica</h3>
                    <p class="card-description">En billones de a√±os, todas las estrellas morir√°n y el universo quedar√° en oscuridad eterna.</p>
                </div>
                <div class="card">
                    <div class="card-icon">üåä</div>
                    <h3 class="card-title">Oc√©anos de Europa</h3>
                    <p class="card-description">Bajo el hielo de la luna Europa hay un oc√©ano que podr√≠a albergar vida alien√≠gena.</p>
                </div>
            </div>
        </section>

        <section id="bigbang" class="section">
            <h2 class="section-title">üí• La Teor√≠a del Big Bang</h2>
            
            <div style="background: linear-gradient(135deg, rgba(138, 43, 226, 0.2), rgba(75, 0, 130, 0.2)); padding: 25px; border-radius: 15px; margin-bottom: 25px; border: 2px solid rgba(138, 43, 226, 0.4);">
                <h3 style="font-family: 'Orbitron', monospace; font-size: 1.5em; color: #da70d6; margin-bottom: 15px; text-align: center;">üåå El Origen del Universo</h3>
                <p style="font-size: 1.05em; line-height: 1.8; text-align: justify; margin-bottom: 15px;">
                    La <strong>Teor√≠a del Big Bang</strong> es el modelo cosmol√≥gico m√°s aceptado que describe el origen y la evoluci√≥n del universo. Seg√∫n esta teor√≠a, hace aproximadamente <strong>13.8 mil millones de a√±os</strong>, toda la materia, energ√≠a, espacio y tiempo estaban concentrados en un punto infinitamente denso y caliente llamado <em>singularidad</em>.
                </p>
                <p style="font-size: 1.05em; line-height: 1.8; text-align: justify; margin-bottom: 15px;">
                    En un instante, este punto comenz√≥ a expandirse r√°pidamente en un evento que conocemos como el <strong>Big Bang</strong>. No fue una explosi√≥n en el espacio, sino una expansi√≥n del espacio mismo. En las primeras fracciones de segundo, el universo experiment√≥ una <strong>inflaci√≥n c√≥smica</strong>, expandi√©ndose m√°s r√°pido que la velocidad de la luz.
                </p>
                <p style="font-size: 1.05em; line-height: 1.8; text-align: justify;">
                    Durante los primeros 380,000 a√±os, el universo era tan caliente y denso que la luz no pod√≠a viajar libremente. Cuando se enfri√≥ lo suficiente, los fotones pudieron moverse libremente, creando lo que hoy conocemos como la <strong>Radiaci√≥n C√≥smica de Fondo de Microondas (CMB)</strong>, la "luz m√°s antigua" del universo que a√∫n podemos detectar.
                </p>
            </div>

            <div class="cards-grid">
                <div class="card">
                    <div class="card-icon">üî¨</div>
                    <h3 class="card-title">Evidencias Cient√≠ficas</h3>
                    <p class="card-description"><strong>1. Expansi√≥n del Universo:</strong> Edwin Hubble descubri√≥ en 1929 que las galaxias se alejan de nosotros, probando que el universo se expande.</p>
                    <p class="card-description"><strong>2. Radiaci√≥n CMB:</strong> Descubierta en 1964, es el "eco" del Big Bang que llena todo el universo con una temperatura de -270¬∞C.</p>
                    <p class="card-description"><strong>3. Abundancia de Elementos:</strong> Las proporciones de hidr√≥geno, helio y litio coinciden perfectamente con las predicciones del Big Bang.</p>
                </div>

                <div class="card">
                    <div class="card-icon">‚è±Ô∏è</div>
                    <h3 class="card-title">L√≠nea de Tiempo C√≥smica</h3>
                    <p class="card-description"><strong>10‚Åª‚Å¥¬≥ segundos:</strong> Tiempo de Planck, el momento m√°s temprano que podemos describir matem√°ticamente.</p>
                    <p class="card-description"><strong>10‚Åª¬≥¬≤ segundos:</strong> Inflaci√≥n c√≥smica - el universo crece exponencialmente.</p>
                    <p class="card-description"><strong>3 minutos:</strong> Se forman los primeros n√∫cleos at√≥micos (nucleos√≠ntesis).</p>
                    <p class="card-description"><strong>380,000 a√±os:</strong> Primera luz - el universo se vuelve transparente.</p>
                    <p class="card-description"><strong>200 millones de a√±os:</strong> Nacen las primeras estrellas.</p>
                </div>

                <div class="card">
                    <div class="card-icon">üå°Ô∏è</div>
                    <h3 class="card-title">Temperaturas Extremas</h3>
                    <p class="card-description">En el primer segundo, el universo alcanz√≥ temperaturas de <strong>10 mil millones de grados Celsius</strong>, m√°s caliente que el n√∫cleo de cualquier estrella.</p>
                    <p class="card-description">A los 3 minutos, se enfri√≥ a "solo" 1 mil millones de grados, permitiendo que protones y neutrones se unieran.</p>
                    <p class="card-description">Hoy, el universo tiene una temperatura promedio de <strong>-270.42¬∞C</strong>, apenas por encima del cero absoluto.</p>
                </div>

                <div class="card">
                    <div class="card-icon">üî≠</div>
                    <h3 class="card-title">Telescopio James Webb</h3>
                    <p class="card-description">Lanzado en 2021, el telescopio espacial m√°s poderoso est√° observando las primeras galaxias formadas 200-400 millones de a√±os despu√©s del Big Bang.</p>
                    <p class="card-description">Sus im√°genes infrarrojas nos permiten "ver" m√°s atr√°s en el tiempo que nunca antes, revelando secretos de c√≥mo se formaron las primeras estructuras c√≥smicas.</p>
                    <a href="https://webb.nasa.gov/" target="_blank" class="card-link">Ver Descubrimientos ‚Üí</a>
                </div>

                <div class="card">
                    <div class="card-icon">üì°</div>
                    <h3 class="card-title">Planck Mission</h3>
                    <p class="card-description">La misi√≥n Planck de la ESA (2009-2013) cre√≥ el mapa m√°s detallado de la Radiaci√≥n C√≥smica de Fondo, confirmando la edad del universo con precisi√≥n sin precedentes.</p>
                    <p class="card-description">Estos datos muestran peque√±as variaciones de temperatura que se convirtieron en las galaxias y estructuras que vemos hoy.</p>
                    <a href="https://www.esa.int/Science_Exploration/Space_Science/Planck" target="_blank" class="card-link">Misi√≥n Planck ‚Üí</a>
                </div>

                <div class="card">
                    <div class="card-icon">üåå</div>
                    <h3 class="card-title">CERN y el Big Bang</h3>
                    <p class="card-description">El Gran Colisionador de Hadrones (LHC) recrea condiciones similares a las que existieron una milmillon√©sima de segundo despu√©s del Big Bang.</p>
                    <p class="card-description">Descubri√≥ el Bos√≥n de Higgs en 2012, la part√≠cula que da masa a otras part√≠culas, completando el Modelo Est√°ndar de f√≠sica de part√≠culas.</p>
                    <a href="https://home.cern/" target="_blank" class="card-link">CERN Research ‚Üí</a>
                </div>

                <div class="card">
                    <div class="card-icon">üìö</div>
                    <h3 class="card-title">NASA - Big Bang Theory</h3>
                    <p class="card-description">Documentaci√≥n completa de la NASA sobre la teor√≠a del Big Bang, incluyendo animaciones, videos educativos y las √∫ltimas investigaciones.</p>
                    <a href="https://science.nasa.gov/universe/overview/" target="_blank" class="card-link">NASA Universe ‚Üí</a>
                </div>

                <div class="card">
                    <div class="card-icon">üéì</div>
                    <h3 class="card-title">Hubble Space Telescope</h3>
                    <p class="card-description">El Hubble ha proporcionado evidencia crucial sobre la expansi√≥n acelerada del universo, llevando al descubrimiento de la energ√≠a oscura.</p>
                    <p class="card-description">Sus observaciones de supernovas distantes mostraron que el universo no solo se expande, sino que lo hace cada vez m√°s r√°pido.</p>
                    <a href="https://hubblesite.org/" target="_blank" class="card-link">Hubble Discoveries ‚Üí</a>
                </div>

                <div class="card">
                    <div class="card-icon">üí´</div>
                    <h3 class="card-title">¬øQu√© hab√≠a antes?</h3>
                    <p class="card-description">Esta es una de las preguntas m√°s profundas. El tiempo mismo comenz√≥ con el Big Bang, por lo que preguntar "qu√© hab√≠a antes" podr√≠a no tener sentido.</p>
                    <p class="card-description">Algunas teor√≠as proponen universos c√≠clicos, multiversos, o que nuestro universo surgi√≥ de fluctuaciones cu√°nticas en la "nada".</p>
                    <p class="card-description">La verdad es que a√∫n no lo sabemos con certeza - es uno de los grandes misterios de la ciencia.</p>
                </div>

                <div class="card">
                    <div class="card-icon">üîÆ</div>
                    <h3 class="card-title">El Futuro del Universo</h3>
                    <p class="card-description">Bas√°ndonos en la energ√≠a oscura, el universo continuar√° expandi√©ndose para siempre. En trillones de a√±os, las galaxias estar√°n tan separadas que cada una estar√° sola en la oscuridad.</p>
                    <p class="card-description">Eventualmente, todas las estrellas morir√°n y el universo alcanzar√° la "muerte t√©rmica" - un estado de m√°xima entrop√≠a y m√≠nima energ√≠a utilizable.</p>
                    <p class="card-description">Pero esto ocurrir√° en 10¬π‚Å∞‚Å∞ a√±os o m√°s - un tiempo incomprensiblemente largo.</p>
                </div>

                <div class="card">
                    <div class="card-icon">üéØ</div>
                    <h3 class="card-title">Stephen Hawking</h3>
                    <p class="card-description">El f√≠sico m√°s famoso del siglo XX contribuy√≥ enormemente a nuestra comprensi√≥n del Big Bang y los agujeros negros.</p>
                    <p class="card-description">Su trabajo sobre la singularidad del Big Bang y la radiaci√≥n de Hawking revolucion√≥ la cosmolog√≠a moderna.</p>
                    <a href="https://www.hawking.org.uk/" target="_blank" class="card-link">Legacy ‚Üí</a>
                </div>

                <div class="card">
                    <div class="card-icon">üìñ</div>
                    <h3 class="card-title">Recursos Educativos</h3>
                    <p class="card-description">Khan Academy, Coursera y MIT OpenCourseWare ofrecen cursos gratuitos sobre cosmolog√≠a y el Big Bang.</p>
                    <p class="card-description">Documentales recomendados: "Cosmos" de Carl Sagan y Neil deGrasse Tyson, "The Universe" de History Channel.</p>
                    <a href="https://www.khanacademy.org/science/cosmology-and-astronomy" target="_blank" class="card-link">Khan Academy ‚Üí</a>
                </div>
            </div>

            <div style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 140, 0, 0.2)); padding: 25px; border-radius: 15px; margin-top: 25px; border: 2px solid rgba(255, 215, 0, 0.4); text-align: center;">
                <h3 style="font-family: 'Orbitron', monospace; font-size: 1.4em; color: #ffd700; margin-bottom: 15px;">‚ú® Dato Asombroso</h3>
                <p style="font-size: 1.1em; line-height: 1.8;">
                    Todos los √°tomos de tu cuerpo (excepto el hidr√≥geno) fueron forjados en el n√∫cleo de estrellas que explotaron hace miles de millones de a√±os. El calcio de tus huesos, el hierro en tu sangre, el carbono en tus c√©lulas - todo proviene de estrellas muertas. <strong>¬°Literalmente est√°s hecho de polvo de estrellas!</strong> ‚≠ê
                </p>
            </div>
        </section>

        <section class="game-section">
            <h2 class="game-title">üéÆ AXIS THE GAME üéÆ</h2>
            <p style="font-size: 1.1em; margin-bottom: 25px; opacity: 0.9;">
                ¬°Emb√°rcate en una aventura √©pica! Destruye asteroides y aliens mientras aprendes sobre el sistema solar.
            </p>
            <button class="game-button" onclick="startGame()">
                üöÄ JUGAR AHORA üöÄ
            </button>
        </section>
    </main>

    <div class="game-modal" id="gameModal">
        <div class="game-container">
            <div class="game-header">
                <h3 style="color: var(--secondary-cyan); font-family: 'Orbitron', monospace; font-size: 14px;">üéÆ AXIS GAME</h3>
                <button class="close-btn" onclick="closeGame()">‚úñ Cerrar</button>
            </div>
            <canvas id="gameCanvas"></canvas>
            
            <div class="level-modal" id="levelModal">
                <div class="level-title" id="levelTitle"></div>
                <div class="level-fact" id="levelFact"></div>
                <button class="continue-btn" onclick="nextLevel()">Continuar</button>
            </div>
        </div>
    </div>

    <div class="name-modal" id="nameModal">
        <div class="name-input-container">
            <h2 class="name-input-title">üéâ ¬°Felicidades! üéâ</h2>
            <p class="name-input-text">Has completado el Sistema Solar. Ingresa tu nombre para el certificado.</p>
            <input type="text" class="name-input" id="playerNameInput" placeholder="Tu nombre..." maxlength="30">
            <div class="name-buttons">
                <button class="name-btn confirm-name-btn" onclick="generateCertificate()">üèÜ Continuar</button>
                <button class="name-btn skip-name-btn" onclick="generateCertificate('Explorador')">Saltar</button>
            </div>
        </div>
    </div>

    <div class="certificate-modal" id="certificateModal">
        <div class="certificate-wrapper">
            <div class="certificate" id="certificate">
                <div class="certificate-content">
                    <div class="cert-logo">üöÄ</div>
                    <div class="certificate-title">CERTIFICADO</div>
                    <div class="certificate-subtitle">Explorador Espacial</div>

                    <div class="certificate-text">Se certifica que ha completado la exploraci√≥n del Sistema Solar.</div>

                    <div class="player-name-container">
                        <input 
                            type="text" 
                            class="player-name-input" 
                            id="certPlayerNameInput" 
                            placeholder="Toca para escribir..."
                            autocomplete="off"
                            autocorrect="off"
                            autocapitalize="characters"
                            maxlength="25"
                        >
                        <div class="player-name" id="certPlayerName" style="display: none;">NOMBRE</div>
                    </div>
                    
                    <div class="certificate-text">
                        ha completado la exploraci√≥n<br>del Sistema Solar completo
                    </div>
                    
                    <div class="achievement-badge">‚≠ê AXIS GAME ‚≠ê</div>
                    <div class="certificate-score" id="certScore">Puntuaci√≥n: 0</div>
                    
                    <div class="planets-completed">
                        <div class="planet-icon">‚òÄÔ∏è</div>
                        <div class="planet-icon">‚òøÔ∏è</div>
                        <div class="planet-icon">‚ôÄÔ∏è</div>
                        <div class="planet-icon">üåç</div>
                        <div class="planet-icon">‚ôÇÔ∏è</div>
                        <div class="planet-icon">‚ôÉ</div>
                        <div class="planet-icon">‚ôÑ</div>
                        <div class="planet-icon">‚ôÖ</div>
                        <div class="planet-icon">‚ôÜ</div>
                        <div class="planet-icon">üåô</div>
                    </div>
                    
                    <div class="certificate-footer">
                        <div class="certificate-signature-name">BTI Paraguay</div>
                    </div>
                </div>
            </div>
            
            <div class="certificate-buttons">
                <button class="cert-btn download-btn" onclick="downloadCertificate()">üì• Descargar</button>
                <button class="cert-btn close-cert-btn" onclick="closeCertificate()">‚úñ Cerrar</button>
            </div>
        </div>
    </div>

    <footer>
        <div class="credits">
            <p><strong>üåü AXIS - Plataforma Espacial del Futuro üåü</strong></p>
            <p>Creado por alumnos del <strong>Bachillerato T√©cnico en Inform√°tica BTI</strong></p>
            <p><strong>Turno Noche</strong> - Centro Regional de Educaci√≥n Gral. Patricio Escobar</p>
            <p>üìç <strong>Encarnaci√≥n, Paraguay</strong></p>
            <p style="margin-top: 15px; opacity: 0.7;">¬© 2025 - Explorando el universo üöÄ</p>
        </div>
    </footer>

    <script>
        // OPTIMIZACI√ìN: Reducir estrellas en m√≥vil
        function createStars() {
            const spaceBg = document.getElementById('spaceBg');
            const isMobile = window.innerWidth < 768;
            const starCount = isMobile ? 50 : 100;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                spaceBg.appendChild(star);
            }
        }

        // SISTEMA DE SONIDO OPTIMIZADO (sin AudioContext m√∫ltiples)
        let audioContext = null;
        let isSoundEnabled = true;

        function initAudio() {
            if (!audioContext) {
                try {
                    audioContext = new (window.AudioContext || window.webkitAudioContext)();
                } catch (e) {
                    isSoundEnabled = false;
                }
            }
        }

        function playSound(type) {
            if (!isSoundEnabled || !audioContext) return;
            
            try {
                const osc = audioContext.createOscillator();
                const gain = audioContext.createGain();
                
                osc.connect(gain);
                gain.connect(audioContext.destination);
                
                const now = audioContext.currentTime;
                
                switch(type) {
                    case 'shoot':
                        osc.frequency.setValueAtTime(800, now);
                        osc.frequency.exponentialRampToValueAtTime(400, now + 0.05);
                        gain.gain.setValueAtTime(0.1, now);
                        gain.gain.exponentialRampToValueAtTime(0.01, now + 0.05);
                        osc.start(now);
                        osc.stop(now + 0.05);
                        break;
                        
                    case 'explosion':
                        osc.type = 'sawtooth';
                        osc.frequency.setValueAtTime(200, now);
                        osc.frequency.exponentialRampToValueAtTime(50, now + 0.15);
                        gain.gain.setValueAtTime(0.15, now);
                        gain.gain.exponentialRampToValueAtTime(0.01, now + 0.15);
                        osc.start(now);
                        osc.stop(now + 0.15);
                        break;
                        
                    case 'alienHit':
                        osc.frequency.setValueAtTime(600, now);
                        osc.frequency.exponentialRampToValueAtTime(200, now + 0.1);
                        gain.gain.setValueAtTime(0.12, now);
                        gain.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
                        osc.start(now);
                        osc.stop(now + 0.1);
                        break;
                        
                    case 'damage':
                        osc.type = 'sawtooth';
                        osc.frequency.setValueAtTime(100, now);
                        gain.gain.setValueAtTime(0.15, now);
                        gain.gain.exponentialRampToValueAtTime(0.01, now + 0.2);
                        osc.start(now);
                        osc.stop(now + 0.2);
                        break;
                        
                    case 'levelComplete':
                    case 'victory':
                        const notes = [523, 659, 784, 1047];
                        notes.forEach((freq, i) => {
                            const o = audioContext.createOscillator();
                            const g = audioContext.createGain();
                            o.connect(g);
                            g.connect(audioContext.destination);
                            const t = now + (i * 0.15);
                            o.frequency.setValueAtTime(freq, t);
                            g.gain.setValueAtTime(0.1, t);
                            g.gain.exponentialRampToValueAtTime(0.01, t + 0.15);
                            o.start(t);
                            o.stop(t + 0.15);
                        });
                        break;
                }
            } catch (error) {
                isSoundEnabled = false;
            }
        }

        // VARIABLES DEL JUEGO
        let gameCanvas, gameCtx, gameRunning = false;
        let currentLevel = 0, score = 0;
        let ship = { x: 0, y: 0, width: 35, height: 25, speed: 5 };
        let asteroids = [], bullets = [], aliens = [], particles = [];
        let keys = {}, lastShotTime = 0;
        let touchX = null, touchY = null;

        const gameLevels = [
            { name: "Sol", color: "#FFD700", fact: "‚≠ê El Sol pierde 4 millones de toneladas de masa cada segundo por fusi√≥n nuclear, pero es tan masivo que podr√≠a brillar otros 5 mil millones de a√±os. ¬°En un segundo produce m√°s energ√≠a que toda la humanidad en su historia!" },
            { name: "Mercurio", color: "#8C7853", fact: "üå°Ô∏è Mercurio tiene cr√°teres llenos de hielo en sus polos a pesar de las temperaturas de 427¬∞C. Un d√≠a mercuriano dura 176 d√≠as terrestres, pero su a√±o solo 88 d√≠as. ¬°Celebrar√≠as 4 cumplea√±os antes de ver un atardecer!" },
            { name: "Venus", color: "#FFC649", fact: "üî• Venus rota en direcci√≥n opuesta a todos los planetas. Su atm√≥sfera es tan densa que la presi√≥n te aplastar√≠a como estar 900m bajo el oc√©ano. Las nubes son de √°cido sulf√∫rico y se mueven a 360 km/h mientras el planeta gira lentamente." },
            { name: "Tierra", color: "#6B93D6", fact: "üåç La Tierra tiene un oc√©ano subterr√°neo de 3 veces el volumen de todos los mares en la superficie, atrapado en rocas del manto. Cada a√±o, 100 toneladas de polvo espacial caen sobre nosotros. ¬°Respiras √°tomos de estrellas!" },
            { name: "Marte", color: "#CD5C5C", fact: "üî¥ Marte tiene auroras invisibles (UV) en todo el planeta. Sus lunas Fobos y Deimos son asteroides capturados. El Monte Olimpo es tan grande que su cima sobresale de la atm√≥sfera marciana. ¬°Hay evidencia de lagos de agua l√≠quida subterr√°neos!" },
            { name: "J√∫piter", color: "#D8CA9D", fact: "üå™Ô∏è J√∫piter tiene 79 lunas confirmadas. Su n√∫cleo alcanza 24,000¬∞C. Europa tiene el doble de agua que toda la Tierra bajo su hielo. La Gran Mancha Roja es una tormenta de 400 a√±os que est√° encogi√©ndose misteriosamente." },
            { name: "Saturno", color: "#FAD5A5", fact: "üíç Los anillos de Saturno tienen solo 10 metros de espesor en promedio pero 282,000 km de di√°metro. Tit√°n tiene lagos de metano l√≠quido y llueve metano. ¬°Enc√©lado expulsa g√©iseres de agua que podr√≠an tener vida!" },
            { name: "Urano", color: "#4FD0E7", fact: "üåÄ Urano fue golpeado por un objeto del tama√±o de la Tierra, por eso gira acostado. Un d√≠a dura 17 horas pero las estaciones duran 21 a√±os. Tiene 13 anillos tenues y 27 lunas. ¬°Huele a huevos podridos por el sulfuro de hidr√≥geno!" },
            { name: "Neptuno", color: "#4B70DD", fact: "üí® Neptuno emite 2.6 veces m√°s energ√≠a de la que recibe del Sol. Tiene vientos supers√≥nicos de 2,100 km/h y la luna Trit√≥n orbita al rev√©s y se acerca al planeta. ¬°En su interior llueven diamantes del tama√±o de granizo!" },
            { name: "Luna", color: "#C0C0C0", fact: "üåô La Luna tiene 'terremotos' que duran hasta 10 minutos. Hay agua helada en cr√°teres perpetuamente en sombra. Sin la Luna, la Tierra rotar√≠a en 6 horas y las estaciones ser√≠an ca√≥ticas. ¬°Las huellas de Armstrong durar√°n millones de a√±os!" }
        ];

        function startGame() {
            document.getElementById('gameModal').style.display = 'flex';
            initAudio();
            initializeGame();
        }

        function closeGame() {
            document.getElementById('gameModal').style.display = 'none';
            gameRunning = false;
        }

        function initializeGame() {
            gameCanvas = document.getElementById('gameCanvas');
            gameCtx = gameCanvas.getContext('2d');
            
            // Ajustar canvas al tama√±o real
            const updateCanvasSize = () => {
                const container = gameCanvas.parentElement;
                gameCanvas.width = container.clientWidth;
                gameCanvas.height = container.clientHeight;
                ship.x = gameCanvas.width / 2 - ship.width / 2;
                ship.y = gameCanvas.height - ship.height - 30;
            };
            updateCanvasSize();
            
            currentLevel = 0;
            score = 0;
            asteroids = [];
            bullets = [];
            aliens = [];
            particles = [];
            keys = {};
            touchX = null;
            touchY = null;
            gameRunning = true;
            
            createAsteroids();
            createAliens();
            
            // Controles t√°ctiles optimizados
            gameCanvas.addEventListener('touchstart', handleTouchStart, { passive: false });
            gameCanvas.addEventListener('touchmove', handleTouchMove, { passive: false });
            gameCanvas.addEventListener('touchend', handleTouchEnd, { passive: false });
            
            // Controles de teclado
            document.addEventListener('keydown', (e) => {
                keys[e.code] = true;
                e.preventDefault();
            });
            document.addEventListener('keyup', (e) => {
                keys[e.code] = false;
                e.preventDefault();
            });
            
            gameLoop();
        }

        function handleTouchStart(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const rect = gameCanvas.getBoundingClientRect();
            touchX = touch.clientX - rect.left;
            touchY = touch.clientY - rect.top;
        }

        function handleTouchMove(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const rect = gameCanvas.getBoundingClientRect();
            touchX = touch.clientX - rect.left;
            touchY = touch.clientY - rect.top;
        }

        function handleTouchEnd(e) {
            e.preventDefault();
            touchX = null;
            touchY = null;
        }

        function createAsteroids() {
            asteroids = [];
            const count = 2 + Math.floor(currentLevel / 2);
            for (let i = 0; i < count; i++) {
                asteroids.push({
                    x: Math.random() * (gameCanvas.width - 30),
                    y: -Math.random() * 150 - 30,
                    size: 20 + Math.random() * 20,
                    speed: 2 + Math.random() * 1.5,
                    rotation: 0,
                    rotSpeed: (Math.random() - 0.5) * 0.08
                });
            }
        }

        function createAliens() {
            if (Math.random() < 0.5) {
                aliens.push({
                    x: Math.random() * (gameCanvas.width - 30),
                    y: -60,
                    size: 30,
                    speed: 1.2 + Math.random() * 0.8,
                    health: 2,
                    time: 0
                });
            }
        }

        function gameLoop() {
            if (!gameRunning) return;
            updateGame();
            drawGame();
            requestAnimationFrame(gameLoop);
        }

        function updateGame() {
            // Movimiento por teclado
            if (keys['ArrowLeft'] && ship.x > 0) ship.x -= ship.speed;
            if (keys['ArrowRight'] && ship.x < gameCanvas.width - ship.width) ship.x += ship.speed;
            if (keys['ArrowUp'] && ship.y > 0) ship.y -= ship.speed;
            if (keys['ArrowDown'] && ship.y < gameCanvas.height - ship.height) ship.y += ship.speed;
            
            // Movimiento por t√°ctil
            if (touchX !== null && touchY !== null) {
                const dx = touchX - (ship.x + ship.width / 2);
                const dy = touchY - (ship.y + ship.height / 2);
                const dist = Math.sqrt(dx * dx + dy * dy);
                
                if (dist > 10) {
                    ship.x += (dx / dist) * ship.speed;
                    ship.y += (dy / dist) * ship.speed;
                    
                    ship.x = Math.max(0, Math.min(gameCanvas.width - ship.width, ship.x));
                    ship.y = Math.max(0, Math.min(gameCanvas.height - ship.height, ship.y));
                }
            }
            
            // Disparar
            const now = Date.now();
            const isMoving = keys['ArrowLeft'] || keys['ArrowRight'] || keys['ArrowUp'] || keys['ArrowDown'] || touchX !== null;
            
            if (isMoving && now - lastShotTime > 250) {
                bullets.push({
                    x: ship.x + ship.width / 2 - 2,
                    y: ship.y,
                    width: 4,
                    height: 10,
                    speed: 7
                });
                lastShotTime = now;
                playSound('shoot');
            }
            
            // Actualizar balas
            bullets = bullets.filter(b => {
                b.y -= b.speed;
                return b.y > -10;
            });
            
            // Actualizar asteroides
            asteroids = asteroids.filter(a => {
                a.y += a.speed;
                a.rotation += a.rotSpeed;
                return a.y < gameCanvas.height + 50;
            });
            
            // Actualizar aliens
            aliens = aliens.filter(a => {
                a.y += a.speed;
                a.time += 0.05;
                a.x += Math.sin(a.time * 2) * 2;
                a.x = Math.max(0, Math.min(gameCanvas.width - a.size, a.x));
                return a.y < gameCanvas.height + 50;
            });
            
            // Crear m√°s enemigos
            if (asteroids.length < 2) createAsteroids();
            if (aliens.length === 0 && Math.random() < 0.02) createAliens();
            
            // Colisiones bala-asteroide
            bullets.forEach((b, i) => {
                asteroids.forEach((a, j) => {
                    if (collision(b, a)) {
                        createExplosion(a.x, a.y, '#ff6600');
                        bullets.splice(i, 1);
                        asteroids.splice(j, 1);
                        score += 10;
                        playSound('explosion');
                    }
                });
            });
            
            // Colisiones bala-alien
            bullets.forEach((b, i) => {
                aliens.forEach((a, j) => {
                    if (collision(b, a)) {
                        a.health--;
                        bullets.splice(i, 1);
                        if (a.health <= 0) {
                            createExplosion(a.x, a.y, '#00ff00');
                            aliens.splice(j, 1);
                            score += 25;
                            playSound('alienHit');
                        } else {
                            playSound('damage');
                        }
                    }
                });
            });
            
            // Colisiones nave-asteroide
            asteroids.forEach((a, i) => {
                if (collision(ship, a)) {
                    asteroids.splice(i, 1);
                    score = Math.max(0, score - 20);
                    createExplosion(ship.x, ship.y, '#ff0000');
                    playSound('damage');
                }
            });
            
            // Colisiones nave-alien
            aliens.forEach((a, i) => {
                if (collision(ship, a)) {
                    aliens.splice(i, 1);
                    score = Math.max(0, score - 30);
                    createExplosion(ship.x, ship.y, '#ff0000');
                    playSound('damage');
                }
            });
            
            // Actualizar part√≠culas
            particles = particles.filter(p => {
                p.x += p.vx;
                p.y += p.vy;
                p.life--;
                return p.life > 0;
            });
            
            // Verificar nivel completado
            if (score >= (currentLevel + 1) * 150) {
                completeLevel();
            }
        }

        function drawGame() {
            gameCtx.clearRect(0, 0, gameCanvas.width, gameCanvas.height);
            
            // Fondo
            const level = gameLevels[currentLevel];
            const gradient = gameCtx.createRadialGradient(
                gameCanvas.width / 2, gameCanvas.height / 2, 0,
                gameCanvas.width / 2, gameCanvas.height / 2, gameCanvas.width
            );
            gradient.addColorStop(0, level.color + '20');
            gradient.addColorStop(1, '#001845');
            gameCtx.fillStyle = gradient;
            gameCtx.fillRect(0, 0, gameCanvas.width, gameCanvas.height);
            
            // Verificar si la nave se est√° moviendo
            const isMoving = keys['ArrowLeft'] || keys['ArrowRight'] || keys['ArrowUp'] || keys['ArrowDown'] || touchX !== null;
            
            // Nave mejorada
            gameCtx.save();
            gameCtx.translate(ship.x + ship.width / 2, ship.y + ship.height / 2);
            
            // Cuerpo principal
            gameCtx.fillStyle = '#00ffff';
            gameCtx.beginPath();
            gameCtx.moveTo(0, -ship.height / 2);
            gameCtx.lineTo(ship.width / 2, ship.height / 2);
            gameCtx.lineTo(-ship.width / 2, ship.height / 2);
            gameCtx.closePath();
            gameCtx.fill();
            
            // Detalles internos
            gameCtx.fillStyle = '#0066ff';
            gameCtx.beginPath();
            gameCtx.moveTo(0, -ship.height / 2 + 8);
            gameCtx.lineTo(ship.width / 2 - 8, ship.height / 2 - 4);
            gameCtx.lineTo(-ship.width / 2 + 8, ship.height / 2 - 4);
            gameCtx.closePath();
            gameCtx.fill();
            
            // Cabina
            gameCtx.fillStyle = '#87CEEB';
            gameCtx.beginPath();
            gameCtx.arc(0, -3, 6, 0, Math.PI * 2);
            gameCtx.fill();
            
            // Luces laterales
            gameCtx.fillStyle = '#ff6600';
            gameCtx.beginPath();
            gameCtx.arc(-10, 5, 3, 0, Math.PI * 2);
            gameCtx.fill();
            gameCtx.beginPath();
            gameCtx.arc(10, 5, 3, 0, Math.PI * 2);
            gameCtx.fill();
            
            // Propulsores cuando se mueve
            if (isMoving) {
                gameCtx.fillStyle = '#ff6600';
                gameCtx.beginPath();
                gameCtx.moveTo(-6, ship.height / 2);
                gameCtx.lineTo(-4, ship.height / 2 + 8);
                gameCtx.lineTo(-2, ship.height / 2);
                gameCtx.closePath();
                gameCtx.fill();
                
                gameCtx.beginPath();
                gameCtx.moveTo(6, ship.height / 2);
                gameCtx.lineTo(4, ship.height / 2 + 8);
                gameCtx.lineTo(2, ship.height / 2);
                gameCtx.closePath();
                gameCtx.fill();
                
                gameCtx.fillStyle = '#ffff00';
                gameCtx.beginPath();
                gameCtx.moveTo(-5, ship.height / 2);
                gameCtx.lineTo(-4, ship.height / 2 + 5);
                gameCtx.lineTo(-3, ship.height / 2);
                gameCtx.closePath();
                gameCtx.fill();
                
                gameCtx.beginPath();
                gameCtx.moveTo(5, ship.height / 2);
                gameCtx.lineTo(4, ship.height / 2 + 5);
                gameCtx.lineTo(3, ship.height / 2);
                gameCtx.closePath();
                gameCtx.fill();
            }
            
            gameCtx.restore();
            
            // Asteroides mejorados
            asteroids.forEach(a => {
                gameCtx.save();
                gameCtx.translate(a.x + a.size / 2, a.y + a.size / 2);
                gameCtx.rotate(a.rotation);
                
                // Forma irregular del asteroide
                gameCtx.fillStyle = '#8B4513';
                gameCtx.beginPath();
                for (let i = 0; i < 8; i++) {
                    const angle = (i / 8) * Math.PI * 2;
                    const radius = a.size / 2 * (0.8 + Math.random() * 0.4);
                    const x = Math.cos(angle) * radius;
                    const y = Math.sin(angle) * radius;
                    if (i === 0) gameCtx.moveTo(x, y);
                    else gameCtx.lineTo(x, y);
                }
                gameCtx.closePath();
                gameCtx.fill();
                
                // Detalles del asteroide
                gameCtx.fillStyle = '#654321';
                gameCtx.beginPath();
                gameCtx.arc(-a.size / 4, -a.size / 4, a.size / 6, 0, Math.PI * 2);
                gameCtx.fill();
                gameCtx.beginPath();
                gameCtx.arc(a.size / 5, a.size / 5, a.size / 8, 0, Math.PI * 2);
                gameCtx.fill();
                
                gameCtx.restore();
            });
            
            // Aliens mejorados
            aliens.forEach(a => {
                gameCtx.save();
                gameCtx.translate(a.x + a.size / 2, a.y + a.size / 2);
                
                // Cuerpo alien
                gameCtx.fillStyle = '#00ff00';
                gameCtx.beginPath();
                gameCtx.ellipse(0, 0, a.size / 2, a.size / 3, 0, 0, Math.PI * 2);
                gameCtx.fill();
                
                // C√∫pula
                gameCtx.fillStyle = '#88ff88';
                gameCtx.beginPath();
                gameCtx.ellipse(0, -a.size / 4, a.size / 3, a.size / 4, 0, 0, Math.PI * 2);
                gameCtx.fill();
                
                // Ojos grandes
                gameCtx.fillStyle = '#ffffff';
                gameCtx.beginPath();
                gameCtx.arc(-8, -5, 5, 0, Math.PI * 2);
                gameCtx.fill();
                gameCtx.beginPath();
                gameCtx.arc(8, -5, 5, 0, Math.PI * 2);
                gameCtx.fill();
                
                // Pupilas
                gameCtx.fillStyle = '#000000';
                gameCtx.beginPath();
                gameCtx.arc(-8, -5, 2, 0, Math.PI * 2);
                gameCtx.fill();
                gameCtx.beginPath();
                gameCtx.arc(8, -5, 2, 0, Math.PI * 2);
                gameCtx.fill();
                
                // Antenas
                gameCtx.strokeStyle = '#00ff00';
                gameCtx.lineWidth = 2;
                gameCtx.beginPath();
                gameCtx.moveTo(-5, -a.size / 2);
                gameCtx.lineTo(-7, -a.size / 2 - 6);
                gameCtx.moveTo(5, -a.size / 2);
                gameCtx.lineTo(7, -a.size / 2 - 6);
                gameCtx.stroke();
                
                // Puntas de antenas
                gameCtx.fillStyle = '#ffff00';
                gameCtx.beginPath();
                gameCtx.arc(-7, -a.size / 2 - 6, 2, 0, Math.PI * 2);
                gameCtx.fill();
                gameCtx.beginPath();
                gameCtx.arc(7, -a.size / 2 - 6, 2, 0, Math.PI * 2);
                gameCtx.fill();
                
                gameCtx.restore();
            });
            
            // Balas mejoradas
            bullets.forEach(b => {
                gameCtx.save();
                gameCtx.fillStyle = '#00ff00';
                gameCtx.shadowBlur = 10;
                gameCtx.shadowColor = '#00ff00';
                gameCtx.fillRect(b.x, b.y, b.width, b.height);
                gameCtx.fillStyle = '#88ff88';
                gameCtx.fillRect(b.x + 1, b.y + 2, b.width - 2, b.height - 4);
                gameCtx.restore();
            });
            
            // Part√≠culas
            particles.forEach(p => {
                gameCtx.save();
                gameCtx.globalAlpha = p.life / p.maxLife;
                gameCtx.fillStyle = p.color;
                gameCtx.shadowBlur = 5;
                gameCtx.shadowColor = p.color;
                gameCtx.beginPath();
                gameCtx.arc(p.x, p.y, 3, 0, Math.PI * 2);
                gameCtx.fill();
                gameCtx.restore();
            });
            
            // UI mejorada
            gameCtx.fillStyle = 'rgba(0, 0, 0, 0.8)';
            gameCtx.fillRect(10, 10, 180, 70);
            gameCtx.strokeStyle = '#00ffff';
            gameCtx.lineWidth = 2;
            gameCtx.strokeRect(10, 10, 180, 70);
            
            gameCtx.fillStyle = '#00ffff';
            gameCtx.font = 'bold 15px Orbitron';
            gameCtx.fillText(`${gameLevels[currentLevel].name}`, 20, 30);
            
            gameCtx.font = '13px Orbitron';
            gameCtx.fillText(`Puntos: ${score}`, 20, 50);
            
            const progress = Math.min(100, (score / ((currentLevel + 1) * 150)) * 100);
            gameCtx.fillText(`Progreso: ${progress.toFixed(0)}%`, 20, 68);
            
            // Barra de progreso
            gameCtx.fillStyle = 'rgba(0, 0, 0, 0.5)';
            gameCtx.fillRect(15, 73, 170, 5);
            const progressWidth = (progress / 100) * 170;
            const progressGradient = gameCtx.createLinearGradient(15, 73, 15 + progressWidth, 73);
            progressGradient.addColorStop(0, '#00ffff');
            progressGradient.addColorStop(1, '#0066ff');
            gameCtx.fillStyle = progressGradient;
            gameCtx.fillRect(15, 73, progressWidth, 5);
        }

        function collision(obj1, obj2) {
            return obj1.x < obj2.x + (obj2.size || obj2.width) &&
                   obj1.x + obj1.width > obj2.x &&
                   obj1.y < obj2.y + (obj2.size || obj2.height) &&
                   obj1.y + obj1.height > obj2.y;
        }

        function createExplosion(x, y, color) {
            for (let i = 0; i < 8; i++) {
                particles.push({
                    x: x,
                    y: y,
                    vx: (Math.random() - 0.5) * 6,
                    vy: (Math.random() - 0.5) * 6,
                    life: 30,
                    maxLife: 30,
                    color: color
                });
            }
        }

        function completeLevel() {
            gameRunning = false;
            const level = gameLevels[currentLevel];
            document.getElementById('levelTitle').textContent = `üåü ${level.name} Completado! üåü`;
            document.getElementById('levelFact').textContent = level.fact;
            document.getElementById('levelModal').style.display = 'block';
            playSound('levelComplete');
        }

        function nextLevel() {
            document.getElementById('levelModal').style.display = 'none';
            currentLevel++;
            
            if (currentLevel >= gameLevels.length) {
                showGameComplete();
                return;
            }
            
            asteroids = [];
            bullets = [];
            aliens = [];
            particles = [];
            createAsteroids();
            createAliens();
            gameRunning = true;
            gameLoop();
        }

        function showGameComplete() {
            gameRunning = false;
            document.getElementById('nameModal').style.display = 'flex';
            setTimeout(() => {
                document.getElementById('playerNameInput').focus();
            }, 300);
        }

        function generateCertificate(defaultName = null) {
            const nameInput = document.getElementById('playerNameInput');
            const playerName = defaultName || nameInput.value.trim() || 'Explorador';
            
            document.getElementById('nameModal').style.display = 'none';
            
            const certNameInput = document.getElementById('certPlayerNameInput');
            certNameInput.value = playerName.toUpperCase();
            
            document.getElementById('certScore').textContent = `Puntuaci√≥n: ${score}`;
            
            document.getElementById('certificateModal').style.display = 'flex';
            
            setTimeout(() => {
                certNameInput.focus();
            }, 300);
            
            certNameInput.addEventListener('input', function() {
                this.value = this.value.toUpperCase();
            });
            
            playSound('victory');
        }

        function downloadCertificate() {
            const certNameInput = document.getElementById('certPlayerNameInput');
            const certNameDisplay = document.getElementById('certPlayerName');
            const playerName = certNameInput.value.trim() || 'EXPLORADOR';
            
            certNameInput.blur();
            certNameInput.style.display = 'none';
            certNameDisplay.textContent = playerName;
            certNameDisplay.style.display = 'block';
            
            setTimeout(() => {
                const certificate = document.getElementById('certificate');
                
                html2canvas(certificate, {
                    scale: 2,
                    backgroundColor: '#0a1e4a',
                    logging: false,
                    useCORS: true,
                    width: certificate.offsetWidth,
                    height: certificate.offsetHeight
                }).then(canvas => {
                    const link = document.createElement('a');
                    link.download = `Certificado_AXIS_${playerName.replace(/\s+/g, '_')}.png`;
                    link.href = canvas.toDataURL('image/png', 1.0);
                    link.click();
                    
                    certNameInput.style.display = 'block';
                    certNameDisplay.style.display = 'none';
                    
                    showNotification('‚úÖ Certificado descargado!');
                }).catch(() => {
                    certNameInput.style.display = 'block';
                    certNameDisplay.style.display = 'none';
                    showNotification('‚ùå Error. Toma captura de pantalla.');
                });
            }, 100);
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                left: 20px;
                max-width: 400px;
                margin: 0 auto;
                background: ${message.includes('‚úÖ') ? 'linear-gradient(45deg, #27ae60, #2ecc71)' : 'linear-gradient(45deg, #e74c3c, #c0392b)'};
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                font-family: Orbitron, monospace;
                font-weight: 600;
                font-size: 14px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                z-index: 10000;
                text-align: center;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.transition = 'opacity 0.5s';
                notification.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 500);
            }, 3000);
        }

        function closeCertificate() {
            document.getElementById('certificateModal').style.display = 'none';
            currentLevel = 0;
            score = 0;
            
            gameCtx.fillStyle = 'rgba(0, 0, 0, 0.9)';
            gameCtx.fillRect(0, 0, gameCanvas.width, gameCanvas.height);
            gameCtx.fillStyle = '#00ffff';
            gameCtx.font = 'bold 18px Orbitron';
            gameCtx.textAlign = 'center';
            gameCtx.fillText('¬°Gracias por jugar!', gameCanvas.width / 2, gameCanvas.height / 2);
        }

        // Navegaci√≥n suave
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Inicializar
        window.addEventListener('load', () => {
            createStars();
        });
    </script>
</body>
</html>